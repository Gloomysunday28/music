webpackJsonp([9],{cDGA:function(s,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=i("rVsN"),a=i.n(e),n=i("IHPB"),c=i.n(n),o={name:"MusicPerson",data:function(){return{playList:[],loveList:[],recentList:[],userSubCount:[],userInfo:{}}},computed:{playListCover:function(){return[].concat(c()(this.playList)).splice(0,3)},recentListCover:function(){return[].concat(c()(this.recentList)).splice(0,3)}},mounted:function(){var s=this;this.$common.listen("changePageStatus",function(){s.$router.push({name:"MusicSetting"})}),this.getPersonMsg()},activated:function(){this.$common.trigger("getStatus","我的","title"),this.$common.trigger("changeHeaderIcon","#ccc"),this.getUser()},deactivated:function(){this.$common.removeListener("changeHeaderIcon")},methods:{getUser:function(){var s=this;this.$http.get(this.$api.userInfo,{params:{uid:this.personal.userId}}).then(function(t){s.userInfo=t.data.profile})},getPersonMsg:function(){var s=this;a.a.all([this.getUserInfo(),this.getLoveSong(),this.getRecentSong(),this.getUserSubCount()]).then(function(t){var i=t[0],e=t[1],a=t[2],n=t[3];s.playList=i.data.playlist,s.loveList=e.data.ids,s.recentList=a.data.weekData,s.userSubCount=n.data.mvCount})},getUserInfo:function(){return this.$http.get(this.$api.userSong,{params:{uid:this.personal.userId}})},getLoveSong:function(){return this.$http.get(this.$api.loveSongList,{params:{uid:this.personal.userId}})},getRecentSong:function(){return this.$http.get(this.$api.userRecent,{params:{uid:this.personal.userId}})},getUserSubCount:function(){return this.$http.get(this.$api.userSubCount)}}},r={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"g-layout"},[e("router-link",{staticClass:"c-person__card",attrs:{to:{name:"MusicPersonInfo"}}},[e("div",{staticClass:"c-person__msg"},[e("img",{staticClass:"c-person__header",attrs:{src:s.userInfo.avatarUrl||i("rpyA"),alt:""}}),s._v(" "),e("div",{staticClass:"c-person__info"},[e("p",{staticClass:"c-person_nickname"},[s._v(s._s(s.userInfo.nickname))]),s._v(" "),e("p",[s._v(s._s(s.userInfo.signature))])])]),s._v(" "),e("div",{staticClass:"c-person__follow"},[e("div",{staticClass:"c-person__follow c-person__follows"},[e("router-link",{attrs:{to:{name:"MusicFollows",query:{title:"关注"}}}},[e("span",{staticClass:"c-follow__label"},[s._v("关注 ")]),s._v(" "),e("span",{staticClass:"c-follow__data"},[s._v(s._s(s.userInfo.follows))])]),s._v(" "),e("router-link",{attrs:{to:{name:"MusicFollows",query:{title:"粉丝"}}}},[e("span",{staticClass:"c-follow__label"},[s._v("粉丝 ")]),s._v(" "),e("span",{staticClass:"c-follow__data"},[s._v(s._s(s.userInfo.followeds))])])],1),s._v(" "),e("div",{class:["c-person__vip",{"c-person__vip--active":s.userInfo.vipType}]},[s._v("\n        VIP\n      ")])])]),s._v(" "),e("div",{staticClass:"c-person__songs"},[e("router-link",{staticClass:"c-person__list",attrs:{to:{name:"MusicSongList",query:{type:1}}}},[e("div",{staticClass:"c-song__list"},[e("div",{staticClass:"c-song__img"}),s._v(" "),e("div",{staticClass:"c-song__img"}),s._v(" "),e("div",{staticClass:"c-song__img"})]),s._v(" "),e("div",{staticClass:"c-song__title"},[e("span",{staticClass:"c-song__label"},[s._v("喜欢")]),s._v(" "),e("span",{staticClass:"c-song__number"},[s._v(s._s(s.loveList.length))])])]),s._v(" "),e("router-link",{staticClass:"c-person__list",attrs:{to:{name:"MusicSongList",query:{type:0}}}},[e("div",{staticClass:"c-song__list"},s._l(s.playListCover,function(s){return e("div",{key:s.id,staticClass:"c-song__img"},[e("img",{staticClass:"c-song__cover",attrs:{src:s.coverImgUrl}})])}),0),s._v(" "),e("div",{staticClass:"c-song__title"},[e("span",{staticClass:"c-song__label"},[s._v("歌单")]),s._v(" "),e("span",{staticClass:"c-song__number"},[s._v(s._s(s.playList.length))])])]),s._v(" "),e("div",{staticClass:"c-person__list"},[e("div",{staticClass:"c-song__list"},s._l(s.recentListCover,function(s){return e("div",{key:s.song.id,staticClass:"c-song__img"},[e("img",{staticClass:"c-song__cover",attrs:{src:s.song.al.picUrl}})])}),0),s._v(" "),e("div",{staticClass:"c-song__title"},[e("span",{staticClass:"c-song__label"},[s._v("最近播放")]),s._v(" "),e("span",{staticClass:"c-song__number"},[s._v(s._s(s.recentList.length))])])]),s._v(" "),e("div",{staticClass:"c-person__list"},[s._m(0),s._v(" "),e("div",{staticClass:"c-song__title"},[e("span",{staticClass:"c-song__label"},[s._v("收藏")]),s._v(" "),e("span",{staticClass:"c-song__number"},[s._v(s._s(s.userSubCount))])])])],1),s._v(" "),e("router-link",{staticClass:"c-music__message",attrs:{to:{name:"MusicMessage"}}},[s._v("\n    动态\n    "),e("i",{staticClass:"iconfont"},[s._v("")])])],1)},staticRenderFns:[function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"c-song__list"},[t("div",{staticClass:"c-song__img"}),this._v(" "),t("div",{staticClass:"c-song__img"}),this._v(" "),t("div",{staticClass:"c-song__img"})])}]};var _=i("C7Lr")(o,r,!1,function(s){i("m977")},"data-v-4ad49b91",null);t.default=_.exports},m977:function(s,t){}});