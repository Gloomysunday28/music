webpackJsonp([7],{"+6SB":function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("IHPB"),c=s.n(e),i={name:"MusicSearch",data:function(){return{isSearchEd:!1,clearSearch:!0,searchLists:[],searachDatas:[],hotSearch:[],searchAdvance:[]}},mounted:function(){this.$common.listen("changeStatus",this.searchDataAdvance),this.getSearchHot()},methods:{inputHotSearch:function(t){var a=t.target;a.classList.contains("c-search__item")&&(this.$common.trigger("getStatus",a.innerHTML.trim(),"search"),this.searchData(a.innerHTML.trim()))},getSearchHot:function(){var t=this;this.$http.get(this.$api.searchHot).then(function(a){200===a.data.code&&(t.hotSearch=a.data.result.hots,t.searchLists=[].concat(c()(t.hotSearch)).map(function(t){return t.name=t.first,t}))})},searchData:function(t){var a=this;this.isSearchEd=!0,this.$http.get(this.$api.searchSong,{params:{keywords:t}}).then(function(t){a.searachDatas=t.data.result.songs})},searchDataAdvance:function(t){var a=this;this.isSearchEd=!1,t?(this.clearSearch=!1,this.$http.get(this.$api.searchAdvance,{params:{keywords:t,type:"mobile"}}).then(function(t){a.searchAdvance=t.data.result.allMatch,a.searchAdvance?a.searchLists=[].concat(c()(a.searchAdvance)).map(function(t){return t.name=t.keyword,t}):a.searchLists=[]})):(this.clearSearch=!0,this.searchLists=[].concat(c()(this.hotSearch)).map(function(t){return t.name=t.first,t}))}}},n={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"g-layout"},[t.clearSearch&&!t.isSearchEd?s("p",{staticClass:"c-search__title"},[t._v("热搜")]):t._e(),t._v(" "),t.isSearchEd?s("ul",{staticClass:"c-search__list"},t._l(t.searachDatas,function(a){return s("li",{key:a.id,staticClass:"c-search__sons"},[s("img",{staticClass:"c-sons__album",attrs:{src:a.album.artist.img1v1Url,alt:""}}),t._v(" "),s("div",{staticClass:"c-sons__msg"},[s("p",{staticClass:"c-songs__name"},[t._v(t._s(a.name))]),t._v(" "),s("p",{staticClass:"c-songs__album__name"},[t._v(t._s(a.album.name))])]),t._v(" "),t._m(0,!0)])}),0):s("ul",{staticClass:"c-search__list",on:{click:t.inputHotSearch}},t._l(t.searchLists,function(a){return s("li",{key:a.id,staticClass:"c-search__item"},[t._v("\n      "+t._s(a.name)+"\n    ")])}),0)])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"c-songs__option"},[a("i",{staticClass:"iconfont"},[this._v("")])])}]};var r=s("C7Lr")(i,n,!1,function(t){s("GXQY")},"data-v-644da2a6",null);a.default=r.exports},GXQY:function(t,a){}});