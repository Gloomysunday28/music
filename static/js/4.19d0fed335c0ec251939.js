webpackJsonp([4],{"8ElP":function(e,t){},"S+mK":function(e,t){},xhUn:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"MusicMessage",data:function(){return{message:[]}},mounted:function(){this.$common.trigger("getStatus","动态","title"),this.getMessage()},methods:{getMessage:function(){var e=this;this.$http.get(this.$api.userEvent,{params:{uid:this.$store.state.baseInfo.personal.userId}}).then(function(t){e.message=t.data.events})},getDiffEvent:function(e){return 18===e.type?JSON.parse(e.json).song:JSON.parse(e.json).playlist},getEvent:function(e){var t=this.getDiffEvent(e);switch(e.type){case 18:return'<span class="c-music__name">\n            '+t.album.name+"\n            "+(t.alias.length?"("+t.alias[0]+")":"")+"\n          </span>";case 13:return'<span class="c-music__name">\n            '+t.name+"\n          </span>"}},getCreator:function(e){var t=this.getDiffEvent(e);switch(e.type){case 18:return t.album.artists[0].name;case 13:return"by "+t.creator.nickname}return""}}},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"g-layout"},e._l(e.message,function(t){return s("div",{key:t.id,staticClass:"c-music__event"},[s("div",{staticClass:"c-music__avatUrl"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.user.avatarUrl,expression:"msg.user.avatarUrl"}],staticClass:"c-person__header"})]),e._v(" "),s("div",{staticClass:"c-event__info"},[s("p",{staticClass:"c-event__user"},[e._v(e._s(t.user.nickname)+" "+e._s(t.info.commentThread.resourceTitle))]),e._v(" "),t.actName?s("p",{staticClass:"c-event__user c-event__act"},[e._v("# "+e._s(t.actName)+" #")]):e._e(),e._v(" "),s("div",{staticClass:"c-event__event"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:18===t.type?e.getDiffEvent(t).album.picUrl:e.getDiffEvent(t).coverImgUrl,expression:"msg.type === 18 ? getDiffEvent(msg).album.picUrl : getDiffEvent(msg).coverImgUrl"}],staticClass:"c-event__img"}),e._v(" "),s("div",{staticClass:"c-event__music"},[s("p",{domProps:{innerHTML:e._s(e.getEvent(t))}}),e._v(" "),s("p",{staticClass:"c-music__creator"},[e._v(e._s(e.getCreator(t)))])])])])])}),0)},staticRenderFns:[]};var i=s("C7Lr")(a,n,!1,function(e){s("S+mK"),s("8ElP")},"data-v-aa76d6c4",null);t.default=i.exports}});